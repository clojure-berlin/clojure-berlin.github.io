{% extends "base.html" %}

{% block meta_description %}
<meta name="description" content="{% if page.summary %}{{ page.summary | striptags | safe }}{% else %}{{ page.title }} - Clojure Berlin{% endif %}">
{% endblock meta_description %}
{% block extraheaders %}
<link rel="canonical" href="{{ page.permalink | trim_end_matches(pat="/") }}">
<meta property="og:title" content="{{ page.title }}">
<meta property="og:url" content="{{ page.permalink | trim_end_matches(pat="/") }}">
<meta property="og:type" content="article">
<meta property="og:description" content="{% if page.summary %}{{ page.summary | striptags | safe }}{% else %}{{ page.title }} - Clojure Berlin{% endif %}">
<meta property="og:image" content="{% if page.extra.og_image %}{{ page.extra.og_image | safe }}{% else %}{{ config.base_url }}/clojureberlin.png{% endif %}">
{% endblock extraheaders %}
{% block title %} {{ page.title }} {% endblock title %}

{% block content %}
{% if page.extra.event_start and page.extra.event_end %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "{{ page.title }}",
  "startDate": "{{ page.extra.event_start | date(format="%Y-%m-%dT%H:%M:%S%:z") }}",
  "endDate": "{{ page.extra.event_end | date(format="%Y-%m-%dT%H:%M:%S%:z") }}",
  "location": {
    "@type": "Place",
    "name": "{{ page.extra.location_name }}"{% if page.extra.location_address %},
    "address": "{{ page.extra.location_address }}"{% endif %}
  },
  "organizer": {
    "@type": "Organization",
    "name": "Clojure Berlin",
    "url": "{{ config.base_url | safe }}"
  },
  "description": "{% if page.summary %}{{ page.summary | striptags | safe }}{% else %}{{ page.title }} - Clojure Berlin{% endif %}",
  "url": "{{ page.permalink | trim_end_matches(pat="/") | safe }}"{% if page.extra.luma %},
  "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode"{% endif %}
}
</script>
{% endif %}
<div class="container event-page">
<header>
  <h1>
    {{ page.title }}
  </h1>
</header>
<main id="main-content">
  {{ page.content | safe }}
<section class="metadata">
  {{ macros::event_meta() }}
</section>
</main>
</div>

{% endblock content %}
